swagger: '2.0'
info:
  description: API for RxPrescriber
  version: 1.0.0
  title: RxPrescriber API
basePath: /v1
schemes:
  - http
produces:
  - application/json
paths:
  /rxprescribers/{prescriberCode}:
    get:
      tags:
        - RxPrescriber
      summary: Read a prescriber for the given code
      description: Read a prescriber for the given code
      operationId: 'readPrescriberByCode'
      produces:
        - application/json
      parameters:
        - in: path
          name: prescriberCode
          required: true
          description: The Prescriber code
          type: string                
      responses:
        '200':
          description: OK
          schema:         
            $ref: '#/definitions/Prescriber'
        '400':
          description: exception
          schema: 
            $ref: '#/definitions/ExecuteException'
        '500':
          description: Server Error
          schema: 
            $ref: '#/definitions/ExecuteException'          
      security:
        - basicAuth: []
  /rxprescribers/{prescriberCode}/prescriberlocations/{prescriberLocationCode}:
    get:
      tags:
        - RxPrescriber
      summary: Read a prescriber and location for the given code and location code
      description: Read a prescriber and location for the given code and location code
      operationId: 'readPrescriberLocationByCode'
      produces:
        - application/json
      parameters:
        - in: path
          name: prescriberCode
          required: true
          description: The Prescriber code
          type: string
        - in: path
          name: prescriberLocationCode
          required: true
          description: The Prescriber location code
          type: string          
      responses:
        '200':
          description: OK
          schema:         
            $ref: '#/definitions/Prescriber'
        '400':
          description: exception
          schema: 
            $ref: '#/definitions/ExecuteException'
        '500':
          description: Server Error
          schema: 
            $ref: '#/definitions/ExecuteException'          
      security:
        - basicAuth: []
  /rxprescribers/bulk_list:
    post:
      tags:
        - RxPrescriberBulkList
      summary: Read prescribers for the given codes
      description: Read prescribers for the given codes
      operationId: 'readPrescribersByCodes'
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: prescriberIdentifierList
          required: true
          description: The Prescriber code list
          schema:
            $ref: '#/definitions/PrescriberIdentifierList'          
      responses:
        '200':
          description: OK
          schema:         
            $ref: '#/definitions/PrescriberList'
        '400':
          description: exception
          schema: 
            $ref: '#/definitions/ExecuteException'
        '500':
          description: Server Error
          schema: 
            $ref: '#/definitions/ExecuteException'          
      security:
        - basicAuth: []
securityDefinitions:
  basicAuth:
    description: HTTP Basic Authentication
    type: basic
definitions:       
  Name:
    type: object
    required:
      - firstName
      - lastName
    properties:
      firstName:
        type: string
      lastName:
        type: string
      middleInitial:
        type: string
      suffix:
        type: string
  Prescriber:
    type: object
    required:
      - code
      - name
      - status
    properties:
      code:
        type: string
        description: The Prescriber Business Key
      name:
        $ref: '#/definitions/Name'                 
      nationalProviderIdentifier:
        type: string
      prescriberLicenses:
        type: array
        items:
          $ref: '#/definitions/PrescriberLicense'
      prescriberLocations:
        type: array
        items:
          $ref: '#/definitions/PrescriberLocation'
      status:
        type: string
        description: The Prescriber status
        enum:
          - INVALID
          - VALID 
      type:
        type: string
        description: The Prescriber type          
  PrescriberContact:
    type: object
    properties:
      email:
        type: string
      faxNumber:
        type: string
      phoneNumber:
        type: string
      refillPhoneNumber:
        type: string
  PrescriberIdentifier:
    type: object
    required:
      - prescriberCode 
    properties:
      prescriberCode:
        type: string
      prescriberLocationCode:
        type: string  
  PrescriberIdentifierList:
    type: object
    required:
      - prescriberIdentifiers 
    properties:
      prescriberIdentifiers:
        type: array
        items:
          $ref: '#/definitions/PrescriberIdentifier' 
  PrescriberLicense:
    type: object
    required:
     - licenseNumber
     - licenseState     
     - licenseType
    properties:
      deaSuffix:
        type: string
        description: The DEA number suffix
      expirationDate:
        type: string
        format: date
        description: The License expiration date
      licenseNumber:
        type: string
        description: The License number      
      licenseState:
        type: string
        description: The License state
        enum:
          - AK
          - AL
          - AR
          - AZ
          - CA
          - CO
          - CT
          - DC
          - DE
          - FL
          - GA
          - GU
          - HI
          - IA
          - ID
          - IL
          - IN
          - KS
          - KY
          - LA
          - MA
          - MD
          - ME
          - MI
          - MN
          - MO
          - MS
          - MT
          - NC
          - ND
          - NE
          - NH
          - NJ
          - NM
          - NV
          - NY
          - OH
          - OK
          - OR
          - PA
          - PR
          - RI
          - SC
          - SD
          - TN
          - TX
          - UT
          - VA
          - VI
          - VT
          - WA
          - WI
          - WV
          - WY
          - NONE
      licenseStatus:
        type: string
        description: The License status
        enum:
          - ACTIVE
          - INACTIVE
      licenseType:
        type: string
        description: The License type
        enum:
          - CONTROLLED_SUBSTANCE
          - DEA
          - GENERAL                 
  PrescriberList:
    type: object
    required:
      - prescribers 
    properties:
      prescribers:
        type: array
        items:
          $ref: '#/definitions/Prescriber' 
  PrescriberLocation:
    type: object
    properties:
      code:
        type: string
        description: The Prescriber location code
      prescriberLocationAddress:
        $ref: '#/definitions/PrescriberLocationAddress'  
      prescriberContact:      
        $ref: '#/definitions/PrescriberContact'
  PrescriberLocationAddress:
    type: object
    properties:    
      addressLine1:
        type: string
        description: The Prescriber address line1
      addressLine2:
        type: string
        description: The Prescriber address line2
      city:
        type: string
        description: The Prescriber city
      state:
        type: string
        description: The Prescriber state
        enum:
          - AK
          - AL
          - AR
          - AZ
          - CA
          - CO
          - CT
          - DC
          - DE
          - FL
          - GA
          - GU
          - HI
          - IA
          - ID
          - IL
          - IN
          - KS
          - KY
          - LA
          - MA
          - MD
          - ME
          - MI
          - MN
          - MO
          - MS
          - MT
          - NC
          - ND
          - NE
          - NH
          - NJ
          - NM
          - NV
          - NY
          - OH
          - OK
          - OR
          - PA
          - PR
          - RI
          - SC
          - SD
          - TN
          - TX
          - UT
          - VA
          - VI
          - VT
          - WA
          - WI
          - WV
          - WY
      zipCode:
        type: string
        description: The Prescriber zip code      
  ExecuteException:
    type: object
    properties:
      code:
        type: string
        description: The code identifying the type of error
      message:
        type: string
        description: The error message